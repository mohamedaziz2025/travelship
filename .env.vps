# =============================================================================
# CONFIGURATION POUR DÉPLOIEMENT VPS
# =============================================================================
# Ce fichier contient les variables d'environnement pour Docker Compose
# Copiez ce fichier vers .env et modifiez les valeurs selon votre VPS

# =============================================================================
# DOMAINE ET URLS
# =============================================================================
# Remplacer par votre nom de domaine ou IP publique du VPS
DOMAIN=votredomaine.com
# Ou si vous utilisez l'IP: VPS_IP_ADDRESS=123.45.67.89

# URLs publiques
FRONTEND_URL=https://votredomaine.com
BACKEND_URL=https://api.votredomaine.com

# =============================================================================
# SÉCURITÉ - IMPORTANT: CHANGER TOUS CES SECRETS EN PRODUCTION!
# =============================================================================
# Générer des secrets forts avec: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# MongoDB
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=CHANGEZ_CE_MOT_DE_PASSE_MONGODB

# JWT
JWT_SECRET=CHANGEZ_CE_SECRET_JWT_64_CARACTERES_MINIMUM
JWT_REFRESH_SECRET=CHANGEZ_CE_SECRET_REFRESH_64_CARACTERES_MINIMUM
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# SERVICES EXTERNES
# =============================================================================

# Cloudinary (pour upload d'images)
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# Email SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# Redis (optionnel, pour cache et queue)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGEZ_CE_MOT_DE_PASSE_REDIS

# =============================================================================
# CONFIGURATION RÉSEAU
# =============================================================================

# Ports exposés
BACKEND_PORT=5000
FRONTEND_PORT=3000
MONGODB_PORT=27017
REDIS_PORT=6379

# =============================================================================
# INSTRUCTIONS DE DÉPLOIEMENT VPS
# =============================================================================
#
# 1. Connexion au VPS:
#    ssh root@VOTRE_IP_VPS
#
# 2. Installer Docker et Docker Compose:
#    curl -fsSL https://get.docker.com -o get-docker.sh
#    sh get-docker.sh
#    apt-get install docker-compose-plugin
#
# 3. Cloner le projet:
#    git clone https://github.com/mohamedaziz2025/travelship.git
#    cd travelship
#
# 4. Configurer les variables d'environnement:
#    cp .env.vps .env
#    nano .env  # Modifier toutes les valeurs CHANGEZ_*
#
# 5. Configurer le backend:
#    cp backend/.env.example backend/.env
#    nano backend/.env  # Utiliser mongodb://admin:PASSWORD@mongodb:27017/...
#
# 6. Configurer le frontend:
#    cp frontend/.env.example frontend/.env.local
#    nano frontend/.env.local  # Utiliser les URLs de votre domaine
#
# 7. Configurer le pare-feu:
#    ufw allow 80/tcp
#    ufw allow 443/tcp
#    ufw allow 22/tcp
#    ufw enable
#
# 8. Démarrer l'application:
#    docker compose up -d --build
#
# 9. Vérifier les logs:
#    docker compose logs -f
#
# 10. Configurer Nginx (reverse proxy recommandé):
#     Voir DOCKER_DEPLOYMENT.md pour la configuration Nginx avec SSL
#
# =============================================================================
